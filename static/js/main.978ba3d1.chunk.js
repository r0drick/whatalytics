(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{219:function(e,t,n){"use strict";n.r(t);var a,r=n(0),s=n(64),o=(n(74),n(4)),i=n(10),c=n(67),u=n(65),l=n(68),h=n(19),d=(n(76),n(31)),f=function e(t,n,a){Object(o.a)(this,e),this.content=t,this.author=n,this.date=a},m=function e(t,n){var a=this;Object(o.a)(this,e),this.toString=function(){return"Pair(".concat(a.first,", ").concat(a.second,")")},this.toList=function(){return[a.first,a.second]},this.first=t,this.second=n},p=n(30),b=function(){function e(){Object(o.a)(this,e),this.name="Messages Per User",this.messages={}}return Object(i.a)(e,[{key:"invoke",value:function(e){"undefined"===typeof this.messages[e.author]?this.messages[e.author]=new m(1,0):this.messages[e.author].first++,this.messages[e.author].second+=e.content.match(/\S+/g).length||0}},{key:"element",get:function(){return r.createElement(p.a,{data:{labels:Object.keys(this.messages),datasets:[{label:"Messages",data:Object.values(this.messages).map(function(e){return e.first}),backgroundColor:"#81D4FA"},{label:"Words",data:Object.values(this.messages).map(function(e){return e.second}),backgroundColor:"#FFD54F"}]}})}}]),e}();!function(e){e[e.January=0]="January",e[e.February=1]="February",e[e.March=2]="March",e[e.April=3]="April",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.August=7]="August",e[e.September=8]="September",e[e.October=9]="October",e[e.November=10]="November",e[e.December=11]="December"}(a||(a={}));var g,v=function(){function e(){Object(o.a)(this,e),this.name="Messages Per Month",this.months=Array.apply(null,Array(11)).map(function(){return 0})}return Object(i.a)(e,[{key:"invoke",value:function(e){var t=e.date.getMonth();"undefined"===typeof this.months[t]?this.months[t]=1:this.months[t]++}},{key:"element",get:function(){return r.createElement(p.b,{data:{labels:Object.keys(a).filter(function(e){return"number"===typeof a[e]}),datasets:[{label:"Messages",data:Object.values(this.months),backgroundColor:"#81D4FA"}]}})}}]),e}(),y=function(){return[new b,new v]};!function(e){e[e.MonthFirst=0]="MonthFirst",e[e.DayFirst=1]="DayFirst",e[e.Unknown=2]="Unknown"}(g||(g={}));var k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.Unknown;Object(o.a)(this,e),this.tasks=t,this.dateFormat=n}return Object(i.a)(e,[{key:"run",value:function(t){if(t+="0/0/0, 0:00 - ",this.dateFormat===g.Unknown){var n=e.findDateFormat(t);n===g.Unknown||(this.dateFormat=n)}for(var a;a=e.regex.exec(t);){var r=this.parse(a),s=!0,o=!1,i=void 0;try{for(var c,u=this.tasks[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){c.value.invoke(r)}}catch(l){o=!0,i=l}finally{try{s||null==u.return||u.return()}finally{if(o)throw i}}}return this.tasks.map(function(e){return e.element})}},{key:"parse",value:function(e){var t,n,a=e[1].split("/").map(function(e){return Number(e)}),r=Object(d.a)(a,3),s=r[0],o=r[1],i=r[2];if(this.dateFormat===g.DayFirst)t=s,n=o;else{if(this.dateFormat!==g.MonthFirst)throw new Error("Unknown Date format (Day first or Month first?)");t=o,n=s}var c=e[2].split(":").map(function(e){return Number(e.substr(0,2))}),u=Object(d.a)(c,2),l=u[0],h=u[1];return e[2].endsWith("PM")&&(l+=12),new f(e[4],e[3],new Date(i,n-1,t,l,h))}}],[{key:"findDateFormat",value:function(t){for(var n;n=e.regex.exec(t);){var a=n[1].split("/").map(function(e){return Number(e)}),r=Object(d.a)(a,2),s=r[0],o=r[1];if(s>12)return g.DayFirst;if(o>12)return g.MonthFirst}return g.Unknown}}]),e}();k.regex=RegExp(/((?:\d\d?\/?){3}), (\d\d?:\d\d(?: [A|P]M)?) - ([^:]*): ([\s\S]*?)(?=(?:\d\d?\/?){3}, \d\d?:\d\d(?: [A|P]M)? - )/g);var w=n(40),F=n.n(w),O=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this,{}))).handleUpload=e.handleUpload.bind(Object(h.a)(Object(h.a)(e))),e.state={elements:[]},e}return Object(l.a)(t,e),Object(i.a)(t,[{key:"handleUpload",value:function(e){var t,n=this;0!==e.target.files.length&&(this.parser=new k,(t=e.target.files[0],new Promise(function(e,n){"undefined"===typeof t&&n(new URIError("No file uploaded"));var a=new FileReader;a.onloadend=function(){a.readyState===FileReader.DONE&&e(a.result)},a.readAsText(t)})).then(function(e){n.setState({elements:n.parser.run(e)})}))}},{key:"componentDidMount",value:function(){this.fullpage=new F.a("#page",{sectionsColor:["f2f2f2"]})}},{key:"componentDidUpdate",value:function(){this.fullpage.destroy(),this.fullpage=new F.a("#page",{sectionsColor:["cccccc"]}),this.state.elements.length>0&&this.fullpage.moveTo(2)}},{key:"render",value:function(){return r.createElement("div",{id:"page"},r.createElement("div",{className:"section"},r.createElement("span",{className:"logo"},"Whatalytics"),r.createElement("form",null,r.createElement("label",{htmlFor:"upload-dialog"},"Upload a File"),r.createElement("input",{id:"upload-dialog",type:"file",accept:".txt",onChange:this.handleUpload,style:{display:"none"}}))),this.state.elements.length>0?this.state.elements.map(function(e){return r.createElement("div",{className:"section"},e)}):r.createElement(r.Fragment,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.render(r.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},69:function(e,t,n){e.exports=n(219)},74:function(e,t,n){},76:function(e,t,n){}},[[69,2,1]]]);
//# sourceMappingURL=main.978ba3d1.chunk.js.map